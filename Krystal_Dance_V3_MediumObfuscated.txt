local bd = (getgenv and getgenv()) or shared
bd.GelatekReanimateConfig = {
    
    ["AnimationsDisabled"] = false,
    ["R15ToR6"] = false,
    ["DontBreakHairWelds"] = true,
    ["PermanentDeath"] = false,
    ["Headless"] = false,
    ["TeleportBackWhenVoided"] = true,
    
    
    ["AlignReanimate"] = true,
    ["FullForceAlign"] = true,
    ["FasterHeartbeat"] = true,
    ["DynamicalVelocity"] = true,
    ["DisableTweaks"] = true,
    
    
    ["OptimizeGame"] = false,

    
    ["LoadLibrary"] = false,
    ["DetailedCredits"] = false,
    
    
    ["TorsoFling"] = false,
    ["BulletEnabled"] = false,
    ["BulletConfig"] = {
        ["RunAfterReanimate"] = false,
        ["LockBulletOnTorso"] = false
    }
}
loadstring(game:HttpGet("https://raw.githubusercontent.com/Gelatekussy/GelatekReanimate/main/Main.lua"))()
if getgenv()["Animator"] == nil then
    loadstring(game:HttpGet("https://raw.githubusercontent.com/xhayper/Animator/main/Source/Main.lua"))()
end

if not isfolder("Dances") then 
    makefolder("Dances")
    end
local bw = game:GetService("InsertService")
local b = bw:LoadLocalAsset("rbxassetid://136078657506707")
local cl = bw:LoadLocalAsset("rbxassetid://130213485744288")
local bl = Instance.new("Part",game:GetService("cu"))
local be = bw:LoadLocalAsset("rbxassetid://87299663038091").ParticleAttachment
be.Parent = bl
local j = true 
local script = Instance.new("LocalScript")
local bh = loadstring(game:HttpGet("https://raw.githubusercontent.com/Nitro-GT/Utils/refs/heads/main/bh"))()
local bi = 0 
bh.Notification("Krystal Dance V3, Made by Hemi",10)
local l = false
local cr = false
local ar = false
local bs;
local u;
local al;
local cp;
local a;
local ae;
local cb;
local ah;
local f;
local u;
local as;
local aj=game:GetService("Players").LocalPlayer.cm
local af=aj:FindFirstChildOfClass("Humanoid")
local aq=aj.p
local au=aj.bx
local cc=aj.HumanoidRootPart 
local ac;
local bz;
local w;
local bq;
local ay;
local bu;
local bk;
local y;
local aw;
local ci;
local bv;
local ai;
local ba;
local m;
local bt;
local am;
local g;
local ak;
local cp;
local az;
local bm;
local au;
local by;
local ch = false
local cq = false
local cu = game:GetService("cu")
local ag getnext(tbl,number)
	u=100
	bs=0
	for i,cp in pairs(tbl) do
		if i>number and i-number<u then
u=i-number
bs=i
		end
	end
	return(bs)
end
local ag wait2(tim)
	if tim<0.1 then
		game:GetService("cu").Heartbeat:Wait()
	else
		for i=1,tim*40 do
game:GetService("cu").Heartbeat:Wait()
		end
	end
end
local ag kftotbl(kf) 
	al = {}
	for i,cp in pairs(kf:GetDescendants()) do
		if cp:IsA("Pose") then
al[string.sub(cp.Name,1,1)..string.sub(cp.Name,#cp.Name,#cp.Name)] = cp.CFrame
		end
	end
	return(al)
end
local cn = Instance.new("Sound",game:GetService("cu"))
cn.Looped = true
cn.Name = "danc"
cn.Playing = true
cn.Volume = .75
local as = game.Players.LocalPlayer
local cu = game:GetService("cu")

local ag functionToBind()
    aj.Humanoid:Move(Vector3.new(0,0,-1),false)
end
local script = Instance.new("Script")
ArtificialHB = Instance.new("BindableEvent",script)
ArtificialHB.Name = "Heartbeat"
script:WaitForChild("Heartbeat")
frame = 1 / 60
tf = 0
allowframeloss = false
tossremainder = false
lastframe = tick()
script.Heartbeat:Fire()
game:GetService("cu").Heartbeat:Connect(ag(f,p)
   tf = tf + f
   if tf >= frame then
	   if allowframeloss then
		   script.Heartbeat:Fire()
		   lastframe = tick()
	   else
		   for i = 1,math.floor(tf / frame) do
			pcall(ag()
			   script.Heartbeat:Fire()
			end)
		   end
		   lastframe = tick()
	   end
	   if tossremainder then
		   tf = 0
	   else
		   tf = tf - frame * math.floor(tf / frame)
	   end
   end
end)
ag swait(num)
   if num == 0 or num == nil then
	   ArtificialHB.Event:Wait()
   else
	   for i = 0,num do
		   ArtificialHB.Event:Wait()
	   end
   end
end

			ag fwait(seconds)
				seconds = (seconds < 0.000001) and 0.000001 or seconds 
			
				local bb = game:GetService("cu").PreRender or game:GetService("cu").Heartbeat
			
				local r = tick()
				while tick() - r < seconds do
					bb:Wait()
				end
			end		
            local an = false
            local bo=0 
            local cj 
            local bk
            local bn 
            local bc 
            local cf 
            local f
	local ag playanim(id,speed,isadance,custominstance)
        l = true 
        bo+=1
        if an == true then return end
        an = true 
        if isadance == nil then 
            isadance = true 
        end
        if isadance == true  then 
            cn.Volume =0
        end
        if ar == true then 
            cn:Play()
            cn.TimePosition = 0
           end
        if ar == true then 
            ch = false
            cq = false
           end
		if speed == nil then 
			speed = 1
		end
        if ar == true then 
            cq = false 
            aj.Humanoid:Move(Vector3.new(0,0,-1),true)
            ch = false 
        end
        wait(.005)
        if isadance == true  then 
            cn.Volume =2 
        end
        if ar == true then 
            cn:Play()
            cn.TimePosition = 0
           end
        an = false
        l = false 
   
        local u="rbxassetid://"..id
   aj = aj
   pcall(ag()
       cb=aj.Humanoid.Animator
   cb.Parent = nil
   end)
   for _,cp in pairs(aj.Humanoid:GetPlayingAnimationTracks()) do
       cp:Stop()
   end
   ac = aj.HumanoidRootPart.CFrame
   bz = aj.bx
   
   local av = game:GetService("TweenService")
   local bj = TweenInfo.new(1/(30*speed))
   w = bz["Right Shoulder"] 
   bq = bz["Left Shoulder"]
   ay = bz["Right Hip"]
   bu = bz["Left Hip"]
   bk = bz["at"]
   y = aj.HumanoidRootPart["RootJoint"]
   aw = w.C0
   ci = bq.C0
   bv = ay.C0
   ai = bu.C0
   ba = y.C0
   m = bk.C0
   bt = CFrame.new()
   am = w.C0
   g = bq.C0
   ak = ay.C0
   cp = bu.C0
   az = y.C0
   bm = bk.C0
   au = 100
   by=100
   l = false
   frame = 1 / (30*speed)
	if custominstance == nil then
     u=bw:LoadLocalAsset(u)
	else
		u = custominstance
	end
    u.Parent = workspace
     local a={}
   for i,cp in pairs(u:GetChildren()) do
       if cp:IsA("Keyframe") then
           a[cp.Time]=kftotbl(cp)
       end
   end
   
   ae = 0
   aj=aj
   if ar == true then 
    cn:Play()
    cn.TimePosition = 0
   end
   as.CharacterRemoving:Connect(ag()
       if cr == true then
           cr = false
       end
   end)
   while true do
    print(bo)
    if bo>1 then 
        break
    end
       if l == true then
           local q = CFrame.new(0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1)
           w.Transform = q
           bq.Transform = q
           bu.Transform = q
           y.Transform = q
           bk.Transform  = q
           ay.Transform = q  
           pcall(ag()
            cj:Cancel()
            bn:Cancel()
            bc:Cancel()
            bk:Cancel()
            cf:Cancel()
            f:Cancel()
        end)

           break
       else
           for i,oasjdadlasdkadkldjkl in pairs(a) do
  local ah=getnext(a,ae)
 local  cp=a[ah]
   if l == true then
       local q = CFrame.new(0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1)
       w.Transform = q
       bq.Transform = q
       bu.Transform = q
       y.Transform = q
       bk.Transform  = q
       ay.Transform = q  
       pcall(ag()
        cj:Cancel()
        bn:Cancel()
        bc:Cancel()
        bk:Cancel()
        cf:Cancel()
        f:Cancel()
    end)
       break
   end
   if ch == true and aj.Humanoid.MoveDirection == Vector3.new(0,0,0) then 
    break 
   end
   frame = 1 / (30*speed)
   if ar == true and isadance == false then 
    break 
   end
   if ar == true then 
    ch = false
    cq = false
   end
   if ch == true and cq == true then 
    l = true 
   end
   if cp["Lg"] then
       ai = cp["Lg"]
   end
   if cp["Rg"] then
       bv = cp["Rg"]
   end
   if cp["Lm"] then
       ci = cp["Lm"]
   end
   if cp["Rm"] then
       aw = cp["Rm"]
   end
   if cp["To"] then
       ba = cp["To"]
   end
   if cp["Hd"] then
       m = cp["Hd"]
   end
   au=0
   by=ah-ae
   ae=ah
    swait(1/(30*speed))
   if l == true then
    local q = CFrame.new(0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1)
    w.Transform = q
    bq.Transform = q
    bu.Transform = q
    y.Transform = q
    bk.Transform  = q
    ay.Transform = q  
    pcall(ag()
        cj:Cancel()
        bn:Cancel()
        bc:Cancel()
        bk:Cancel()
        cf:Cancel()
        f:Cancel()
    end)
    break
    end
   au=by
   if cp["Lg"] then
	bc = av:Create(aj.bx["Left Hip"],bj,{Transform = CFrame.new(cp["Lg"].p*aj:GetScale())*cp["Lg"].Rotation}):Play()
      
   end
   if cp["Rg"] then
	bn = av:Create(aj.bx["Right Hip"],bj,{Transform = CFrame.new(cp["Rg"].p*aj:GetScale())*cp["Rg"].Rotation}):Play()
    
   end
   if cp["Lm"] then
	bk = av:Create(aj.bx["Left Shoulder"],bj,{Transform = CFrame.new(cp["Lm"].p*aj:GetScale())*cp["Lm"].Rotation}):Play()
     
   end
   if cp["Rm"] then
	cj = av:Create(aj.bx["Right Shoulder"],bj,{Transform = CFrame.new(cp["Rm"].p*aj:GetScale())*cp["Rm"].Rotation}):Play()
      
   end
   if cp["To"] then
	f = av:Create(aj.HumanoidRootPart["RootJoint"],bj,{Transform = CFrame.new(cp["To"].p*aj:GetScale())*cp["To"].Rotation}):Play()
      
   end
   if cp["Hd"] then
	cf = av:Create(aj.bx["at"],bj,{Transform = CFrame.new(cp["Hd"].p*aj:GetScale())*cp["Hd"].Rotation}):Play()
       
   end
           end
       end
   end
           end   
           local i = "shitsploit"
        pcall(ag()
            i = getexecutorname()
        end)
	local co = ag(id)
        if i ~= "CaetSploit" then
        idwithoutthatbit= string.gsub(id,"Dances/","")
        if not isfile(id) then 
         writefile(id,game:HttpGet("https://github.com/Nitro-GT/music/raw/refs/heads/main/"..idwithoutthatbit))
        end
       repeat task.wait() until isfile(id)
    end
        local f = Instance.new("Sound")
        f.Parent = game:GetService("cu")
        f.SoundId = getcustomasset(id)
        task.spawn(ag()
            task.wait(1)
            f:Destroy()
        end)
        return f.SoundId
    end
           local ag stopanim()
           if bo>0 then 
                bo-=1
           end
            l = true 
            l = true 
            l = true 
            l = true 
            cn.PlaybackSpeed = 1
            if j == true then 
            cn.SoundId = co("Dances/myuu.mp3")
            cn.Volume = .75
            else 
                cn:Stop()
            end
            be.Parent = bl
            pcall(ag()
                cj:Cancel()
                bn:Cancel()
                bc:Cancel()
                bk:Cancel()
                cf:Cancel()
                f:Cancel()
            end)
            if ar == true then 
                cn.TimePosition = bi
                ar = false
                cq = true 
                aj.Humanoid:Move(Vector3.new(0,0,-1),true)
                ch = false 
                wait(.065)
                if ch == true and cq == false and  aj.Humanoid.MoveDirection ~= Vector3.new(0,0,0) and ar == false and l==true  then 
                task.spawn(ag()
                playanim(136078657506707,1,false)
                end)
            end
            end
                    end
local cg = 1 


local aq 
local bg = game:GetService("UserInputService")
aq = bg.InputBegan:Connect(ag(af,chatting)
	if aj.Humanoid.Sit == true then return end
    if chatting then return end 
        local af = string.lower(string.gsub(tostring(af.KeyCode),"Enum.KeyCode.",""))
	if cg == 1 then 
	if af == "q" then 
		if ar == false then 
            stopanim()
ar = true
task.wait(.005)
		    cn.SoundId = co("Dances/rat.mp3")
		    bi = cn.TimePosition 
cn:Play()
		    playanim(106353328250763)
		else
	        stopanim()
		end
	elseif af == "e" then 
		if ar == false then 
stopanim()
ar = true
task.wait(.005)
cn.SoundId = co("Dances/boogie.mp3")
cn.PlaybackSpeed = 2
bi = cn.TimePosition 
cn:Play()
playanim(16769959846)
		else
stopanim()
cn.PlaybackSpeed = 1

end
		elseif af == "r" then 
if ar == false then 
	stopanim()
ar = true
task.wait(.005)
	cn.SoundId = co("Dances/valen.mp3")
	cn.PlaybackSpeed = 1
	bi = cn.TimePosition 
cn:Play()
	playanim(136962185637891)
else
	stopanim()
	cn.PlaybackSpeed = 1
	
	end
elseif af == "au" then 
	if ar == false then 
		stopanim()
ar = true
task.wait(.005)
		cn.SoundId = co("Dances/order.mp3")
		cn.PlaybackSpeed = 2
		bi = cn.TimePosition 
cn:Play()
		playanim(130968726197789)
	else
		stopanim()
		cn.PlaybackSpeed = 1
		
		end
	elseif af == "y" then 
		if ar == false then 
stopanim()
ar = true
task.wait(.005)
cn.SoundId = co("Dances/sturdy.mp3")
cn.PlaybackSpeed = 1
bi = cn.TimePosition 
cn:Play()
playanim(100864643591096)
		else
stopanim()
cn.PlaybackSpeed = 1

end
    elseif af == "u" then 
if ar == false then 
    stopanim()
ar = true
task.wait(.005)
    cn.SoundId = co("Dances/caramell.mp3")
    cn.PlaybackSpeed = 1
    bi = cn.TimePosition 
cn:Play()
    playanim(103597509139287)
else
    stopanim()
    cn.PlaybackSpeed = 1
    
 end
elseif af == "f" then 
    if ar == false then 
        stopanim()
ar = true
task.wait(.005)
        cn.SoundId = co("Dances/billy.mp3")
        aj.Humanoid.WalkSpeed = 4*aj:GetScale()
        bi = cn.TimePosition 
cn:Play()
        playanim(18945296583)
    else
        stopanim()
        
    end
elseif af == "g" then 
    if ar == false then 
        stopanim()
ar = true
task.wait(.005)
        cn.SoundId = co("Dances/gangnamm.mp3")
        bi = cn.TimePosition 
cn:Play()
        playanim(12438774071)
    else
        stopanim()
        
    end
elseif af == "p" then 
    if ar == false then 
        stopanim()
ar = true
task.wait(.005)
        cn.SoundId = co("Dances/pogo.mp3")
        bi = cn.TimePosition 
cn:Play()
        playanim(8829798048,1.5)
    else
        stopanim()
        
    end
elseif af == "j" then 
    if ar == false then 
        stopanim()
ar = true
task.wait(.005)
        cn.SoundId = co("Dances/dancingin.mp3")
        bi = cn.TimePosition 
cn:Play()
        playanim(96444866125796)
    else
        stopanim()
        
    end
elseif af == "af" then 
    if ar == false then 
        stopanim()
        ar = true
        task.wait(.005)
        cn.SoundId = co("Dances/dr.wav")
        aj.Humanoid.WalkSpeed = 4*aj:GetScale()
        bi = cn.TimePosition 
cn:Play()
        playanim(12637912409,2)
    else
        aj.Humanoid.WalkSpeed = 14*aj:GetScale()
        stopanim()
        
    end
elseif af == "l" then 
    if ar == false then 
        stopanim()
    ar = true
    task.wait(.005)
        cn.SoundId = co("Dances/griddy.mp3")
        aj.Humanoid.WalkSpeed = 4*aj:GetScale()
        bi = cn.TimePosition 
cn:Play()
        playanim(15704995372)
    else
        aj.Humanoid.WalkSpeed = 14*aj:GetScale()
        stopanim()
        
    end
elseif af == "z" then 
    if ar == false then 
        stopanim()
        ar = true
        task.wait(.005)
        cn.SoundId = co("Dances/lux.ogg")
        bi = cn.TimePosition 
cn:Play()
        playanim(15092317950)
    else
        stopanim()
        
    end
elseif af == "x" then 
    if ar == false then 
        stopanim()
        ar = true
        task.wait(.005)
        cn.SoundId = co("Dances/kazot.mp3")
        bi = cn.TimePosition 
cn:Play()
        playanim(114036336168567,1)
    else
        stopanim()
        
    end
elseif af == "aq" then 
    if ar == false then 
        stopanim()
        ar = true
        task.wait(.005)
        cn.SoundId = "rbxassetid://1846368080"
        bi = cn.TimePosition 
cn:Play()
        playanim(76647570617571,0.75)
    else
        stopanim()
        
    end
elseif af == "cp" then 
    if ar == false then 
        stopanim()
        ar = true
        task.wait(.005)
        cn.SoundId = co("Dances/bimbam.mp3")
        bi = cn.TimePosition 
cn:Play()
        playanim(16361564081)
    else
        stopanim()
        
    end

elseif af == "u" then 
    if ar == false then 
        stopanim()
        ar = true
        task.wait(.005)
        cn.SoundId = co("Dances/Moongazer.mp3")
        bi = cn.TimePosition 
cn:Play()
        playanim(118766274919427)
    else
        stopanim()
        
    end
elseif af == "bk" then 
    if ar == false then 
        stopanim()
        ar = true
        task.wait(.005)
        cn.SoundId = co("Dances/Down.mp3")
        bi = cn.TimePosition 
cn:Play()
        playanim(111249002064299)
    else
        stopanim()
        
    end

                    elseif af == "comma" then 
    if ar == false then 
        stopanim()
        ar = true
        task.wait(.005)
        cn.SoundId = co("Dances/Mystery.mp3")
        bi = cn.TimePosition 
cn:Play()
        playanim(131401099812672)
    else
        stopanim()
        
    end
elseif af == "leftbracket" then 
    if ar == false then 
        stopanim()
        ar = true
        task.wait(.005)
        cn.SoundId = co("Dances/true_heart.mp3")
        bi = cn.TimePosition 
cn:Play()
        playanim(131776726113292)
    else
        stopanim()
        
    end
elseif af == "quote" then 
    if ar == false then 
        stopanim()
        ar = true
        task.wait(.005)
        cn.SoundId = co("Dances/Rewind.mp3")
        bi = cn.TimePosition 
cn:Play()
        playanim(140376973204352)
    else
        stopanim()
        
    end

                                end
                                end
if cg == 2 then 
    if af == "q" then 
           if ar == false then 
        stopanim()
        ar = true
        task.wait(.005)
        cn.SoundId = co("Dances/XO.mp3")
        bi = cn.TimePosition 
cn:Play()
        playanim(73559770055600)
    else
        stopanim()
        
           end 
    elseif af == "e" then
                     if ar == false then 
        stopanim()
        ar = true
        task.wait(.005)
        cn.SoundId = co("Dances/drip.mp3")
        bi = cn.TimePosition 
cn:Play()
        playanim(100177280567649)
    else
        stopanim()
        
                     end 
           elseif af == "r" then
                     if ar == false then 
        stopanim()
        ar = true
        task.wait(.005)
        cn.SoundId = co("Dances/freeflow.mp3")
        bi = cn.TimePosition 
cn:Play()
        playanim(101564911432113)
    else
        stopanim()
        
                     end 
           elseif af == "au" then 
          if ar == false then 
        stopanim()
        ar = true
        task.wait(.005)
        cn.SoundId = co("Dances/whateverlike.mp3")
        bi = cn.TimePosition 
cn:Play()
        playanim(83266223088944)
    else
        stopanim()
        
          end
           elseif af == "y" then 
          if ar == false then 
        stopanim()
        ar = true
        task.wait(.005)
        cn.SoundId = co("Dances/balls.mp3")
        bi = cn.TimePosition 
cn:Play()
        playanim(15039779727)
    else
        stopanim()
        
    end
elseif af == "aq" then 
    if ar == false then 
        stopanim()
        ar = true
        task.wait(.005)
        cn.SoundId = co("Dances/faster.ogg")
        bi = cn.TimePosition 
cn:Play()
        playanim(10609437925)
    else
        stopanim()
        
    end
elseif af == "g" then 
    if ar == false then 
        stopanim()
        ar = true
        task.wait(.005)
        cn.SoundId = co("Dances/tryna.mp3")
        bi = cn.TimePosition 
cn:Play()
        playanim(14887006269)
    else
        stopanim()
        
    end
                                elseif af == [[f]] then 
                                    if ar == false then 
                                        stopanim()
                                        ar = true
                                        task.wait(.005)
                                        cn.SoundId = co("Dances/chronoshift.mp3")
                                        bi = cn.TimePosition 
cn:Play()
                                        playanim(125834337223799)
                                    else
                                        stopanim()
                                        
                                    end
elseif af == "j" then 
    if ar == false then 
stopanim()
ar = true
task.wait(.005)
cn.SoundId = co("Dances/dancingwit.mp3")
cn.PlaybackSpeed = 1
bi = cn.TimePosition 
cn:Play()
be.Parent = aj.bx
playanim(93585895457618)
    else
stopanim()
cn.PlaybackSpeed = 1

end
                                elseif af == "af" then 
    if ar == false then 
        stopanim()
        ar = true
        task.wait(.005)
        cn.SoundId = co("Dances/frightfunk.mp3")
        bi = cn.TimePosition 
cn:Play()
        playanim(70835462045983)
    else
        stopanim()
        
    end
elseif af == "u" then 
    if ar == false then 
        stopanim()
        ar = true
        task.wait(.005)
        cn.SoundId = co("Dances/bloodpop.mp3")
        bi = cn.TimePosition 
cn:Play()
        playanim(132026285699359)
    else
        stopanim()
        
    end
elseif af == "bk" then 
    if ar == false then 
        stopanim()
        ar = true
        task.wait(.005)
        playanim(90819860436349)
    else
        stopanim()
        
    end
elseif af == "z" then 
    if ar == false then 
        stopanim()
        ar = true
        task.wait(.005)
        cn.SoundId = co("Dances/leftright.mp3")
        bi = cn.TimePosition 
        cn:Play()
        playanim(137845929482571)
    else
        stopanim()
        
    end    
elseif af == "x" then 
    if ar == false then 
        stopanim()
        ar = true
        task.wait(.005)
        cn.SoundId = co("Dances/heavylove.mp3")
        bi = cn.TimePosition 
cn:Play()
        playanim(85856686932206)
    else
        stopanim()
        
    end
        end 
end
if af == "equals" then 
    j = not j
    if ar == false then 
    if j == true then 
        cn:Play()
        cn.Volume = .75
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "Krystal Dance V3";
            Duration = 5;
            Text = "Background music enabled"
        })
    else 
    cn:Stop()
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "Krystal Dance V3";
        Duration = 5;
        Text = "Background music disabled"
    })
    end
    end
end
if af == "m" then 
    if cg == 2 then 
    cg = 1 
    game:GetService("StarterGui"):SetCore("SendNotification", {
	Title = "Krystal Dance V3";
	Duration = 5;
	Text = "You are on page 1"
})
    else
        cg = 2 
    game:GetService("StarterGui"):SetCore("SendNotification", {
	Title = "Krystal Dance V3";
	Duration = 5;
	Text = "You are on page 2"
})
    end
    end
end)
aj.Humanoid:GetPropertyChangedSignal("MoveDirection"):Connect(ag()
	if aj.Humanoid.Sit == false then 
    if aj.Humanoid.MoveDirection == Vector3.new(0,0,0) and ar == false and cq == false then
    ch = false
    cq = true
	stopanim()
	fwait(1/500)
        if cq == true and ch == false and aj.Humanoid.MoveDirection == Vector3.new(0,0,0) and ar == false and l==true then
            playanim(0,1,false,b )
            end
        elseif aj.Humanoid.MoveDirection ~= Vector3.new(0,0,0) and ar == false and ch == false then 
            aj.Humanoid.WalkSpeed = 14*aj:GetScale()
            ch = true
            cq = false
            stopanim()
            fwait(1/500)
            if ch == true and cq == false and  aj.Humanoid.MoveDirection ~= Vector3.new(0,0,0) and ar == false and l==true  then 
                playanim(130213485744288,1,false,cl)
            end
    end
end
    end)
	aj.Humanoid:GetPropertyChangedSignal("Sit"):Connect(ag()
		print("sit")
		if aj.Humanoid.Sit == true then 
			stopanim()
			
			math.randomseed(os.clock())
			if math.random(1,2) == 1 then 
			playanim(133312100962627,1,false)
			else 
			playanim(122775909441631,1,false)
			end
		else 
			stopanim()
			task.wait(.05)
			stopanim()
			aj.Humanoid:Move(Vector3.new(0,0,-1),true)
			aj.Humanoid:Move(Vector3.new(0,0,-1),true)
			aj.Humanoid:Move(Vector3.new(0,0,-1),true)
		end
	end)

local cu = game:GetService("cu")

local ao = game:GetService("Players").LocalPlayer
local ad = ao:GetMouse()
local ap = workspace.CurrentCamera
local cm =aj

local Humanoid = cm:WaitForChild("Humanoid")
local bp = (Humanoid.RigType == Enum.HumanoidRigType.R6)

local p = cm:WaitForChild("p")
local bx = if bp then cm:WaitForChild("bx") else cm:WaitForChild("UpperTorso")

local at = if bp then bx:WaitForChild("at") else p:WaitForChild("at")
local ck = if bp then nil else bx:WaitForChild("ck")

local cd = at.C0
local br = if ck then ck.C0 else nil

at.MaxVelocity = 1/3

local ct = {Enum.HumanoidStateType.Running, Enum.HumanoidStateType.Climbing, Enum.HumanoidStateType.Swimming, Enum.HumanoidStateType.Freefall, Enum.HumanoidStateType.Seated}
local ce = (table.o(ct, Humanoid:GetState()) ~= nil)

local o = table.o
local d = math.d
local bf = math.bf

Humanoid.StateChanged:Connect(ag(_, new)
	ce = (o(ct, new) ~= nil)
end)
local z = at.C0

local aa = 10
local cm = aj 
local ca = aj.HumanoidRootPart
introsound = Instance.new("Sound",ca)
introsound.SoundId = "rbxassetid://236146895"
introsound.Volume = 8
introsound:Play()

bigfedora = Instance.new("Part",cm)
bigfedora.Size = Vector3.new(2,2,2)
bigfedora.CFrame = bigfedora.CFrame:inverse() * ca.CFrame * CFrame.new(math.random(-60,60),-.2,math.random(-60,60)) * CFrame.Angles(0,math.rad(math.random(-180,180)),0)
bigfedora.CanCollide = false
bigfedora.Anchored = true
bigfedora.Name = "mbigf"
mbigfedora = Instance.new("SpecialMesh", bigfedora)
mbigfedora.MeshType = "FileMesh"
mbigfedora.Scale = Vector3.new(5, 5, 5)
mbigfedora.MeshId,mbigfedora.TextureId = 'http://www.roblox.com/asset/?id=1125478','http://www.roblox.com/asset/?id=1125479'

for i = 1, 60 do
bigfedora.CFrame = bigfedora.CFrame:lerp(CFrame.new(ca.Position) * CFrame.new(0,-.1,0) * CFrame.Angles(math.rad(0),math.rad(0),math.rad(0)),.09)
task.wait(1/60)
end
wait(.25)
for i = 1, 50 do
bigfedora.CFrame = bigfedora.CFrame:lerp(CFrame.new(aj.p.Position),.05)
task.wait(1/60)
end
zmc = 0
for i = 1, 29 do
zmc = zmc + 2
mbigfedora.Scale = mbigfedora.Scale - Vector3.new(.25,.25,.25)
bigfedora.CFrame = bigfedora.CFrame * CFrame.Angles(math.rad(0),math.rad(zmc),0)
task.wait(1/60)
end
bigfedora:Remove()
local cs= 0
aj.Humanoid.Died:Connect(ag()
cn.PlaybackSpeed = 0
cn.Parent = nil 
cn.Volume = 0
end)
local af = aj.Humanoid
local x = CFrame.new
local ax 
local ab
repeat 
    aj.Humanoid:Move(Vector3.new(0,0,-1),true)
    task.wait(1/60)
    cs=cs+1
until cs==3
cu.RenderStepped:Connect(ag(deltaTime: number)
    	local ag Alpha(bk)
		return math.clamp(bk*deltaTime*60,0,1)
	end
  af.CameraOffset =  af.CameraOffset:Lerp((cc.CFrame*x(0,1.5,0)):PointToObjectSpace(aq.Position),Alpha(.15))
	if ce  and ar == false then
		local e = p.Position
		
    elseif ar == true then 
        at.C0 = z
	end	
if aj.Humanoid.MoveDirection == Vector3.new(0,0,0) then 
    ch = false 
    cq = true 
else 
    ch = true 
    cq = false 
end
end)